/*--------------------------------*- C++ -*----------------------------------*\
  =========                 |
  \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox
   \\    /   O peration     | Website:  https://openfoam.org
    \\  /    A nd           | Version:  8
     \\/     M anipulation  |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      blockMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

convertToMeters 1;

angle 7.;
ang #calc "degToRad($angle)";
core_mesh 0.0001;
mesh_z 300;
inner_mesh_x #calc "0.003/$core_mesh";
middle_mesh_x #calc "0.0035/$core_mesh";
liq_mesh_z #calc "0.004/$core_mesh";
//outer_x 0.02;
outer_x 0.2;
x20 #calc "0.005 + 0.008 * tan($ang)";
top_mesh_z #calc "2*$liq_mesh_z";
//outer_z -0.03;
outer_z -0.3;

x_ratio #calc "0.001/($outer_x - $x20)";
x_ratio_rest #calc "1-$x_ratio";
gasIn_mesh #calc "0.001/$core_mesh";
outer_x_mesh #calc "$gasIn_mesh+100"; // outer 100 cells
x_mesh_ratio #calc "$gasIn_mesh/$outer_x_mesh";
x_mesh_rest #calc "1-$x_mesh_ratio";

vertices
(
    (-$outer_x 0 $outer_z) //0
    (-0.005 0 $outer_z) //1
    (-0.0015 0 $outer_z) //2
    (0.0015 0 $outer_z) //3
    (0.005 0 $outer_z) //4
    ($outer_x 0 $outer_z) //5
    ($outer_x 0 0) //6
    ($outer_x 0 0.008) //7
    ($x20 0 0.008) //8
    (0.005 0 0) //9
    (0.0015 0 0) //10
    (0.0015 0 0.004) //11
    (-0.0015 0 0.004) //12
    (-0.0015 0 0) //13
    (-0.005 0 0) //14
    (-$x20 0 0.008) ///15
    (-$outer_x 0 0.008) //16
    (-$outer_x 0 0) //17
    (-$outer_x 0.1 $outer_z) //18
    (-0.005 0.1 $outer_z) //19
    (-0.0015 0.1 $outer_z) //20
    (0.0015 0.1 $outer_z) //21
    (0.005 0.1 $outer_z) //22
    ($outer_x 0.1 $outer_z) //23
    ($outer_x 0.1 0) //24
    ($outer_x 0.1 0.008) //25
    ($x20 0.1 0.008) //26
    (0.005 0.1 0) //27
    (0.0015 0.1 0) //28
    (0.0015 0.1 0.004) //29
    (-0.0015 0.1 0.004) //30
    (-0.0015 0.1 0) //31
    (-0.005 0.1 0) //32
    (-$x20 0.1 0.008) ///33
    (-$outer_x 0.1 0.008) //34
    (-$outer_x 0.1 0) //35 
);

blocks
(
  hex (0 1 19 18 17 14 32 35) (280 1 $mesh_z) simpleGrading (((0.925 0.5 0.0189) (0.075 0.5 1)) 1 0.027)
  hex (1 2 20 19 14 13 31 32) ($middle_mesh_x 1 $mesh_z) simpleGrading (1 1 0.027)
  hex (2 3 21 20 13 10 28 31) ($inner_mesh_x 1 $mesh_z) simpleGrading (1 1 0.027)
  hex (3 4 22 21 10 9 27 28) ($middle_mesh_x 1 $mesh_z) simpleGrading (1 1 0.027)
  hex (4 5 23 22 9 6 24 27) (280 1 $mesh_z) simpleGrading (((0.075 0.5 1) (0.925 0.5 53)) 1 0.027)
  hex (13 10 28 31 12 11 29 30) ($inner_mesh_x 1 $liq_mesh_z) simpleGrading (1 1 1)
  hex (9 6 24 27 8 7 25 26) (280 1 $top_mesh_z) simpleGrading (((0.075 0.5 1) (0.925 0.5 53)) 1 1)
  hex (17 14 32 35 16 15 33 34) (280 1 $top_mesh_z) simpleGrading (((0.925 0.5 0.0189) (0.075 0.5 1)) 1 1)
);

edges
(
);

boundary
(
   
    liqIn
    {
        type patch;
        faces
        (
            (12 11 29 30)
        );
    }

    topInner
    {
    	type patch;
    	faces
    	(
    	    (15 14 32 33)
    	    (14 13 31 32)
    	    (13 12 30 31)
    	    (11 10 28 29)
    	    (10 9 27 28)
    	    (9 8 26 27)
    	);
    }
    
    
    
    topOuter
    {
    	type patch;
    	faces
    	(
    	    (16 15 33 34)
    	    (8 7 25 26)

    	);
    }
    
    side
    {
    	type patch;
    	faces
    	(
    	    (18 0 17 35)
    	    (35 17 16 34)
    	    (5 23 24 6)
    	    (6 24 25 7)   	    
    	);
    }
       
    bottom
    {
    	type patch;
    	faces
    	(
    	    (18 19 1 0)
    	    (19 20 2 1)
    	    (20 21 3 2)
    	    (21 22 4 3)
    	    (22 23 5 4)   
    	);
    }    

    defaultFaces
    {
    	type empty;
    	faces
    	(

    	);
    }
 /*   
    back
    {
    	type empty;
    	faces
    	(
    	 ()
    	);
    }
*/
);

mergePatchPairs
(

);

// ************************************************************************* //
